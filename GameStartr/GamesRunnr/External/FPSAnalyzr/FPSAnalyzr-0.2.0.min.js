var FPSAnalyzr=function(){function a(a){void 0===a&&(a={}),this.maxKept=a.maxKept||35,this.numRecorded=0,this.ticker=-1,this.measurements=isFinite(this.maxKept)?new Array(this.maxKept):{},this.getTimestamp="undefined"==typeof a.getTimestamp?"undefined"==typeof performance?function(){return Date.now()}:(performance.now||performance.webkitNow||performance.mozNow||performance.msNow||performance.oNow).bind(performance):a.getTimestamp}return a.prototype.measure=function(a){void 0===a&&(a=this.getTimestamp()),this.timeCurrent&&this.addFPS(1e3/(a-this.timeCurrent)),this.timeCurrent=a},a.prototype.addFPS=function(a){this.ticker=(this.ticker+=1)%this.maxKept,this.measurements[this.ticker]=a,this.numRecorded+=1},a.prototype.getMaxKept=function(){return this.maxKept},a.prototype.getNumRecorded=function(){return this.numRecorded},a.prototype.getTimeCurrent=function(){return this.timeCurrent},a.prototype.getTicker=function(){return this.ticker},a.prototype.getMeasurements=function(){var a,b,c=Math.min(this.maxKept,this.numRecorded);for(isFinite(this.maxKept)?a=new Array(c):(a={},a.length=c),b=c-1;b>=0;--b)a[b]=this.measurements[b];return a},a.prototype.getDifferences=function(){var a,b=this.getMeasurements();for(a=b.length-1;a>=0;--a)b[a]=1e3/b[a];return b},a.prototype.getAverage=function(){var a,b=0,c=Math.min(this.maxKept,this.numRecorded);for(a=c-1;a>=0;--a)b+=this.measurements[a];return b/c},a.prototype.getMedian=function(){var a=this.getMeasurements().sort(),b=a.length,c=Math.floor(b/2);return a.length%2===0?a[c]:(a[c-2]+a[c])/2},a.prototype.getExtremes=function(){var a,b,c=this.measurements[0],d=c,e=Math.min(this.maxKept,this.numRecorded);for(b=e-1;b>=0;--b)a=this.measurements[b],a>d?d=a:c>a&&(c=a);return[c,d]},a.prototype.getRange=function(){var a=this.getExtremes();return a[1]-a[0]},a}();